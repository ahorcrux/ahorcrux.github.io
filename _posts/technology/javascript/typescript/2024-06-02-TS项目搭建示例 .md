---
title: 
author: since2014
date: 2023-10-28 18:02:00 +0800
categories: [Technology, TypeScript]
tags: [typescript]
render_with_liquid: false
---

1. 初始化项目

```shell
mkdir my-express-ts-app
cd my-express-ts-app
yarn init -y
```

2. 安装依赖

```shell
yarn add express
yarn add -D typescript ts-node dotenv @types/node @types/express

```

3. 创建并编辑 tsconfig.json 文件

```shell
yarn tsc --init
```

示例:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "outDir": "./dist",
    "rootDir": "./src"
  },
  "include": ["src"],
  "exclude": ["node_modules"]
}

```
4. 设置目录结构

```csharp
my-express-ts-app/
├── src/
│   ├── index.ts
├── dist/
├── node_modules/
├── tsconfig.json
├── package.json
├── yarn.lock

```

5. 编写 TypeScript 代码

```typescript
import dotenv from 'dotenv';
import express, { Request, Response } from 'express';

//load env
dotenv.config();

const app = express();
const port = process.env.PORT ?? 3000;

app.get('/', (req : Request, res : Response) => {
res.send('Hello, this is from express with typescript !');
});

app.listen(port, () => {
     console.log(`Server is running at http://localhost:${port}`);
});
```

6. 配置 `package.json` 文件的脚本

```json
{
  "name": "my-express-ts-app",
  "version": "1.0.0",
  "main": "dist/index.js",
  "scripts": {
    "build": "tsc",
    "start": "ts-node src/index.ts",
    "start:prod": "node dist/index.js"
  },
  "dependencies": {
    "express": "^4.17.1"
  },
  "devDependencies": {
    "@types/express": "^4.17.12",
    "@types/node": "^14.14.31",
    "ts-node": "^9.1.1",
    "typescript": "^4.1.3"
  }
}

```

7. 编译和运行项目


```shell
yarn build
```

```shell
yarn start
```

# .gitignore

```gitignore
# Node.js
node_modules/
dist/
build/
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Logs
logs
*.log
logs/*.log

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components/

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
jspm_packages/

# TypeScript v1 declaration files
typings/

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Parcel cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next
out

# Nuxt.js build output
.nuxt
dist

# Gatsby files
.cache/
public

# Vuepress build output
.vuepress/dist

# vue storefront
.local

# Serverless directories
.serverless

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# Environment variables
.env
.env.test
.env.production
.env.development
.env.local
.env.*.local

# Docker
docker-compose.yml
.dockerignore
Dockerfile
Dockerfile-dev
Dockerfile.prod
.docker

# Node-waf configuration
.lock-wscript

# Compiled files
*.exe
*.dll
*.com
*.bat
*.c
*.out
*.app

# Python virtualenv
venv/
__pycache__/

# VS Code settings
.vscode/
.history/

# MacOS files
.DS_Store

# Temporary files
*.swp
*~

# Project specific
.idea/
.project
.classpath
.cproject
.settings/

# Generated IDE files
*.iml
*.ipr
*.iws

```